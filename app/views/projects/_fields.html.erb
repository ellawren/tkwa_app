<% if @project.status == "potential" || params[:status] == 'potential' %>
            <h2>Potential Project Status</h2>
            <div class="narrow">
                <div class="input-row">
                    <%= f.label(:proposal_date, "Proposal Due Date", class: "input-label") %>
                    <%= f.text_field :proposal_date, class: "datepicker" %>
                </div>
                <div class="input-row">
                    <%= f.label(:interview_date, "Interview Date", class: "input-label") %>
                    <%= f.text_field :interview_date, class: "datepicker" %>
                </div>
            </div>
            <div class="wide last">
                <div class="input-row">
                    <%= f.label(:awarded, "Awarded?", class: "input-label small-label") %>
                        <div class="radio-group">
                            <label class="radio">
                                <%= f.radio_button :awarded, "pending", data_toggle: "radio" %>
                                Pending
                                <div id="note" class="radio-note">If we get this project, select 'Yes' to move it into Current Projects. If not, select 'No' to remove it from the Potential Projects list.</div>
                            </label>
                            <label class="radio">
                                <%= f.radio_button :awarded, "yes", data_toggle: "radio" %>
                                Yes
                                <div id="awarded" class="radio-hint">Awesome! Don't forget to change the status to 'Current" and add a project number.</div>
                            </label>

                            <label class="radio">
                                <%= f.radio_button :awarded, "no", data_toggle: "radio" %>
                                No
                                <div id="not-awarded" class="radio-hint">Note: This project will no longer show up as 'active' on the Potential Projects page.</div>
                            </label>
                        </div>
                </div>

            </div>
        <% end %>
        
        <h2 class="first">Project Information</h2>

        <div class="wide">
            <div class="input-row">
                <%= f.label(:name, "Name", class: "input-label") %>
                <%= f.text_field :name %>
            </div>
            <div class="input-row">
                <%= f.label(:location, "Location", class: "input-label") %>
                <%= f.text_area :location, class: "button-right", rows: "2" %>
                    <button class="btn input-button" onclick="showMap('project_location'); return false;">Google maps</button>
            </div>
            <div class="input-row">
                <%= f.label(:client, "Client", class: "input-label") %>
                <%= f.text_field :client, class: "#{'i-am-messed-up' if params[:action] == 'new' }" %>
            </div>
            <div class="input-row">
                <%= f.label(:client_url, "Client Website", class: "input-label") %>
                <%= f.text_field :client_url, class: "button-right" %>
                    <button class="btn input-button" onclick="openURL('project_client_url'); return false;">open website</button>
            </div>
        </div>

        <div class="narrow">
            <div class="input-row">
                <%= f.label(:number, "Number", class: "input-label") %>
                <%= f.text_field :number%>
            </div>
            <div class="input-row">
                <%= f.label(:building_type, "Building Type", class: "input-label") %>
                <%= f.select(:building_type, Project::BUILDING_TYPES, {:prompt => ' '}, {:class => 'custom-select'}) %>
            </div>
            <div class="input-row">
                <%= f.label(:status, "Status", class: "input-label") %>
                    <%= hidden_field_tag "project[status]", nil %>
                    <div class="radio-group">
                        <% if params[:action] == 'new' %>
                            <label class="radio">
                                <%= radio_button_tag("project[status]", "potential", params[:status] == 'potential', { data_toggle: "radio" } ) %>
                                Potential
                            </label>
                            <label class="radio">
                                <%= radio_button_tag("project[status]", "current", params[:status] == 'current', { data_toggle: "radio" } ) %>
                                Current
                            </label>
                        <% else %>
                            <label class="radio">
                                <%= f.radio_button :status, "potential", data_toggle: "radio" %>
                                Potential
                            </label>
                            <label class="radio">
                                <%= f.radio_button :status, "current", data_toggle: "radio" %>
                                Current
                            </label>
                        <% end %>
                        <label class="radio">
                            <%= f.radio_button :status, "completed", data_toggle: "radio" %>
                            Completed
                        </label>
                    </div>
            </div>
        </div>

        <div class="half">
            <h2>Billing Contact</h2>
                
            <div class="input-row">
                <%= f.label(:billing_name, "Name", class: "input-label") %>
                <% unless f.object.billing_name.blank? %>
                    <% @billing = Contact.find_by_name(f.object.billing_name) %>
                <% end %>
                <%= f.autocomplete_field :billing_name, autocomplete_contact_name_projects_path, class: "#{'button-right' if f.object.billing_name.present? }" %>
                <% if @billing # if there is a billing name AND it matches an existing contact %>
                    <%= link_to "view contact", contact_path(@billing), class: "btn input-button" %>
                <% elsif f.object.billing_name.present? # if there is a billing name and it DOES NOT match an existing contact %>
                    <%= link_to "add contact", new_contact_path(:name => f.object.billing_name), class: "btn input-button" %>
                <% end %>
            </div>
            <% if @billing %>
                <div class="contact-address">
                    <% unless @billing.work_address.blank? %><span class="bold"><%= @billing.name %></span><br><%= @billing.work_address.gsub(/\n/, '<br />').html_safe %><br><% end %>
                    <% unless @billing.work_phone.blank? %><%= number_to_phone(@billing.work_phone, :area_code => true) %><% end %>
                </div>
            <% end %>
                
        </div> <!-- end half -->
        <div class="half last">
            <h2>Project Contact <span class="note">(if different from billing)</span></h2>
                
            <div class="input-row">
                <%= f.label(:contact_name, "Name", class: "input-label") %>
                <% unless f.object.contact_name.blank? %>
                    <% @cont = Contact.find_by_name(f.object.contact_name) %>
                <% end %>
                <%= f.autocomplete_field :contact_name, autocomplete_contact_name_projects_path, class: "#{'button-right' if f.object.contact_name.present? }" %>
                <% if @cont # if there is a contact name AND it matches an existing contact %>
                    <%= link_to "view contact", contact_path(@cont), class: "btn input-button" %>
                <% elsif f.object.contact_name.present? # if there is a contact name and it DOES NOT match an existing contact %>
                    <%= link_to "add contact", new_contact_path(:name => f.object.contact_name), class: "btn input-button" %>
                <% end %>
            </div>
            <% if @cont %>
                <div class="contact-address">
                    <% unless @cont.work_address.blank? %><span class="bold"><%= @cont.name %></span><br><%= @cont.work_address.gsub(/\n/, '<br />').html_safe unless @cont.work_address.blank? %><br><% end %>
                    <% unless @cont.work_phone.blank? %><%= number_to_phone(@cont.work_phone, :area_code => true) unless @cont.work_phone.blank? %><% end %>
                </div>
            <% end %>
                  
        </div> <!-- end half -->
