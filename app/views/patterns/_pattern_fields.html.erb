 
 <% if f.object.id %>
    <li id="<%= f.object.id %>" class="pattern">
        <div class="view-fields">
            <div class="header">
                <div class="number"><%= f.object.number %> /</div>
                <div class="title"><%= link_to f.object.name, edit_pattern_path(f.object) %></div>
                <a class="btn edit-pattern">quick edit</a>
            </div>
            <div class="issue"><%= simple_format f.object.issue %></div>
            <div class="solution"><%= simple_format f.object.solution %></div>
            <div class="diagram">
                <% if f.object.diagram_file_name %>
                    <%= image_tag @pattern.diagram.url(:medium), class: "diagram" %>
                <% end %>
            </div>
            <div class="footer">Written on <%= f.object.created_at.strftime("%B %-d, %Y") %><%= " by #{f.object.author}" if f.object.author %></div>
        </div>
        <div class="edit-fields">
            <%= f.hidden_field :project_id, value: "#{@project.id}" %>
            <div class="header">
                <div class="p-number">
                    <%= f.text_field :number, class: "p-number", placeholder: "#" %>
                </div>
                <div class="p-name">
                    <%= f.text_field :name, class: "p-name", placeholder: "Pattern Name" %>
                </div>
                <a class="btn edit-pattern" href="/patterns/<%= f.object.id %>/edit">full edit</a>
            </div>
            
            <div class="p-issue">
                <%= f.label :issue, class: "" %>
                <%= f.text_area :issue, class: "", rows: 6 %>
            </div>

            <div class="p-solution">
                <%= f.label :solution, class: "" %>
                <%= f.text_area :solution, class: "", rows: 6 %>
            </div>
            <div class="p-diagram">
                <%= f.label(:diagram, class: "") %>
                <%= f.file_field :diagram, class: "image-file" %>
            </div>

            <%= f.submit "Save Changes", class: "btn btn-primary save-btn" %>
            <a class="text-button">cancel</a>
        </div>
    </li>

<% else %>
    <li class="pattern">
            <%= f.hidden_field :project_id, value: "#{@project.id}" %>

            <div class="header">
                 <div class="p-number">
                    <%= f.text_field :number, class: "p-number", placeholder: "#" %>
                </div>
                <div class="p-name">
                    <%= f.text_field :name, class: "p-name", placeholder: "Pattern Name" %>
                </div>
            </div>
            
            <div class="p-issue">
                <%= f.label :issue, class: "" %>
                <%= f.text_area :issue, class: "", rows: 6 %>
            </div>

            <div class="p-solution">
                <%= f.label :solution, class: "" %>
                <%= f.text_area :solution, class: "", rows: 6 %>
            </div>
            <div class="p-diagram">
                <%= f.label(:diagram, class: "") %>
                <%= f.file_field :diagram, class: "image-file" %>
            </div>
            <%= f.submit "Save Changes", class: "btn btn-primary save-btn" %>
            <a class="text-button" href="/patterns/by_project/<%= @project.id %>">cancel</a>
    </li>
<% end %>

