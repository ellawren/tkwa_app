    <h2 class="first">Work Information</h2>

    <div class="wide">
        <div class="input-row">
            <%= f.label(:name, "Full Name", class: "input-label") %>
            <% if params[:action] == "new" && params[:name].present? %> 
                <% val = params[:name] %>
            <% else %>
                <% val = f.object.name %>
            <% end %>
            <%= f.text_field(:name, :value => val) %>
        </div>
        <div class="input-row">
            <%= f.label(:work_title, "Title", class: "input-label") %>
            <%= f.text_field :work_title, class: "full-width" %>
        </div>
        <div class="input-row">
            <%= f.label(:work_company, "Company", class: "input-label") %>
            <%= f.autocomplete_field :work_company, autocomplete_contact_work_company_contacts_path, :update_elements => {:work_address => '#contact_work_address', :work_phone => '#contact_work_phone', :work_url => '#contact_work_url', :work_fax => '#contact_work_fax'} %>
        </div>  
        <div class="input-row">
            <%= f.label(:work_address, "Address", class: "input-label") %>
            <%= f.text_area :work_address, class: "button-right", rows: "2" %>
            <button class="btn input-button" onclick="showMap('contact_work_address'); return false;">Google maps</button>
        </div>   
        <div class="input-row">
            <%= f.label(:work_url, "Website", class: "input-label") %>
            <%= f.text_field :work_url, class: "button-right" %>
            <button class="btn input-button" onclick="openURL('contact_work_url'); return false;">view website</button>
        </div>  
        <div class="input-row">
            <%= f.label(:work_email, "Work Email", class: "input-label") %>
            <%= f.text_field :work_email, class: "button-right" %>
            <button class="btn input-button" onclick="mailTo('<%= f.object.work_email %>'); return false;">send email</button>
        </div> 

    </div>

    <div class="narrow contact-phone">
        
        <div class="input-row">
            <%= f.label(:work_phone, "Main Phone", class: "input-label") %>
            <%= f.text_field :work_phone, value: number_to_phone(@contact.work_phone, :area_code => true), class: "phone" %>
            <div class="label-sm">ext</div><%= f.text_field :work_ext, class: "ext" %>
        </div>
        <div class="input-row">
            <%= f.label(:work_direct, "Direct Phone", class: "input-label") %>
            <%= f.text_field :work_direct, value: number_to_phone(@contact.work_direct, :area_code => true), class: "phone" %>
            <div class="label-sm">ext</div><%= f.text_field :direct_ext, class: "ext" %>
        </div>
        <div class="input-row">
            <%= f.label(:work_fax, "Work Fax", class: "input-label") %>
            <%= f.text_field :work_fax,value: number_to_phone(@contact.work_fax, :area_code => true), class: "phone" %>
        </div>
        <div class="input-row">
            <%= f.label(:work_cell, "Cell Phone", class: "input-label") %>
            <%= f.text_field :work_cell,value: number_to_phone(@contact.work_cell, :area_code => true), class: "phone" %>
        </div>
        <div id="documents">
            <a class="circle" href="/contacts/<%= @contact.id %>/transmittal" target="_blank">
                create<br>transmittal
                <div class="glyphicon glyphicon-file"></div>
            </a>
            <a class="circle" href="/contacts/<%= @contact.id %>/fax" target="_blank">
                create<br>fax cover
                <div class="glyphicon glyphicon-print"></div>
            </a>
            <a class="circle" href="/contacts/<%= @contact.id %>/envelope" target="_blank">
                create<br>envelope
                <div class="glyphicon glyphicon-envelope"></div>
            </a>
        </div>
    </div>


    <% if f.object.home_address.present? || f.object.home_email.present? || f.object.home_phone.present? || f.object.home_cell.present? %>
        <% @personal = "visible" %>
    <% else %>
        <% @personal = "hidden" %>
    <% end %>

    <h2 class="optional">Personal Information <% if @personal == "hidden" %><a id="show">show fields</a><% end %><a id="hide">hide fields</a></h2>

    <div id="personal-info" class="<%= @personal %>">
        <div class="wide">
            <div class="input-row">
                <%= f.label(:home_address, "Home Address", class: "input-label") %>
                <%= f.text_area :home_address, class: "button-right", rows: "2" %>
                <button class="btn input-button" onclick="showMap('contact_home_address'); return false;">Google maps</button>
            </div>    
            <div class="input-row">
                <%= f.label(:home_email, "Personal Email", class: "input-label") %>
                <%= f.text_field :home_email, class: "button-right" %>
                <button class="btn input-button" onclick="mailTo('<%= f.object.home_email %>'); return false;">send email</button>
            </div>  
        </div>

        <div class="narrow contact-phone">
            <div class="input-row">
                <%= f.label :home_phone, "Home Phone", class: "input-label" %>
                <%= f.text_field :home_phone, value: number_to_phone(@contact.home_phone, :area_code => true), class: "phone" %>
            </div>
            <div class="input-row">
                <%= f.label(:home_cell, "Personal Cell", class: "input-label") %>
                <%= f.text_field :home_cell,value: number_to_phone(@contact.home_cell, :area_code => true), class: "phone" %>
            </div>
        </div>
    </div>

    <% if f.object.associated_projects.count > 0 %>
        <h2>Projects</h2>
        <div class="full">
            <ul>
            <% f.object.associated_projects.each do |p| %>
                <li><%= link_to p[0].name, info_project_path(p[0].id), class: "green" %> <span class="detail">(<%= p[1] %>)</span></li>
            <% end %>
            </ul>
        </div>
    <% end %>

<!--    
    <h2 class="optional">Mailing Lists <a id="show-mailing">show fields</a><a id="hide-mailing">hide fields</a></h2>

    <div id="mailing-list" class="hidden">
        <div class="full mailing-list">
            <%= hidden_field_tag "contact[mailing_list_ids][]", nil %>
            <% MailingList.all.each do |list| %>
                <label class="checkbox">
                    <%= check_box_tag "contact[mailing_list_ids][]", list.id, @contact.mailing_list_ids.include?(list.id), id: dom_id(list), data_toggle: "checkbox" %>
                    <%= list.name %>
                </label>
            <% end %>
        </div>
    </div>
-->

    <% if @contact.is_employee? %>

        <h2>Employee Information</h2>
        <%= f.fields_for :employee do |u| %>
            <div class="narrow">

                <div class="input-row">
                    <%= u.label :employee_number, "Employee Number", class: "input-label" %>
                    <%= u.text_field :employee_number, autocomplete: "off"  %>
                </div>

                <div class="input-row">
                    <%= u.label :birth_month, "Birthday", class: "input-label" %>
                    <%= u.select(:birth_month, Date::ABBR_MONTHNAMES.compact.each_with_index.collect{|m, i| [m, i+1]}, {:prompt => ' '}, {:class => 'custom-select birth-month'}) %>
                    <%= u.select(:birth_day, (1..31), {:prompt => ' '}, {:class => 'custom-select birth-day'}) %>
                </div>
                <div class="input-row">
                    <%= u.label :hire_date, "Hire Date", class: "input-label" %>
                    <%= u.text_field :hire_date, class: "datepicker"  %>
                </div>
                
            </div>
            <div class="wide last">
                <div class="input-row">
                    <%= u.label :family, "Family Info", class: "input-label" %>
                    <%= u.text_area :family, rows: "4" %>
                </div> 
            </div> 
            
        <% end %>

    <% end %>

    <h2>Notes</h2>

    <div class="wide contact-notes">
        <div class="input-row">
            <%= f.text_area :notes, rows: "6" %>
        </div> 
    </div>

    <div class="narrow contact-details">
        <div class="input-row">
            <%= f.label(:cat_number, "Category", class: "input-label" ) %>
            <%= f.collection_select(:cat_number, Category.all, :number, :name, { :include_blank => true }, { :class => "custom-select" } ) %>
        </div>
        <div class="input-row">
            <%= f.label(:staff_contact, "Staff Contact", class: "input-label" ) %>
            <%= f.autocomplete_field :staff_contact, autocomplete_contact_name_contacts_path,  class: "match-select" %>
        </div>

        <% unless params[:action] == "new" %>
            <div class="input-row">
                <div class="input-label">Added On</div>
                <div class="input-cell"><%= f.object.created_at.strftime("%B %d, %Y") %></div>
            </div>
            <div class="input-row short">
                <div class="input-label">Last Updated</div>
                <div class="input-cell"><%= f.object.updated_at.strftime("%B %d, %Y") %></div>
            </div>
        <% end %>

    </div>
